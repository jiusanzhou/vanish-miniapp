(this["webpackJsonpzoe-starter-react-app"]=this["webpackJsonpzoe-starter-react-app"]||[]).push([[0],{112:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _home_zoe_projects_labs_zoe_im_vanish_miniapp_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(29),_home_zoe_projects_labs_zoe_im_vanish_miniapp_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(30),_home_zoe_projects_labs_zoe_im_vanish_miniapp_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(33),_home_zoe_projects_labs_zoe_im_vanish_miniapp_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(32),_home_zoe_projects_labs_zoe_im_vanish_miniapp_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(34),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_chakra_ui_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(20),_chakra_ui_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(85),_chakra_ui_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(223),_chakra_ui_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(119),_chakra_ui_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(224),DebuggerApp=function(_React$Component){function DebuggerApp(){var e;return Object(_home_zoe_projects_labs_zoe_im_vanish_miniapp_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,DebuggerApp),(e=Object(_home_zoe_projects_labs_zoe_im_vanish_miniapp_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,Object(_home_zoe_projects_labs_zoe_im_vanish_miniapp_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(DebuggerApp).call(this))).state={res:"",input:""},e}return Object(_home_zoe_projects_labs_zoe_im_vanish_miniapp_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__.a)(DebuggerApp,_React$Component),Object(_home_zoe_projects_labs_zoe_im_vanish_miniapp_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(DebuggerApp,[{key:"componentWillMount",value:function(){var e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/firebug-lite/1.4.0/firebug-lite.js",e.async=!0,e.id="firebug_lite_js",document.body.appendChild(e)}},{key:"componentWillUnmount",value:function(){document.getElementById("firebug_lite_js").remove()}},{key:"handleInputChange",value:function(e){this.setState({input:e.target.value})}},{key:"handleRunClick",value:function handleRunClick(){var res;try{res=eval(this.state.input)}catch(e){res={exception:e}}this.setState({res:res})}},{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_chakra_ui_core__WEBPACK_IMPORTED_MODULE_6__.a,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_chakra_ui_core__WEBPACK_IMPORTED_MODULE_7__.a,null,"\u8c03\u8bd5\u5e94\u7528"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_chakra_ui_core__WEBPACK_IMPORTED_MODULE_8__.a,{w:"200px",size:"sm",value:this.state.input,onChange:this.handleInputChange.bind(this)}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_chakra_ui_core__WEBPACK_IMPORTED_MODULE_9__.a,{mt:"8px",onClick:this.handleRunClick.bind(this)},"\u8fd0\u884c"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_chakra_ui_core__WEBPACK_IMPORTED_MODULE_7__.a,{mb:"8px"},"\u6267\u884c\u7ed3\u679c\uff1a"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_chakra_ui_core__WEBPACK_IMPORTED_MODULE_10__.a,{w:"100%",style:{wordWrap:"break-word"}},this.state.res?JSON.stringify(this.state.res):null))}}]),DebuggerApp}(react__WEBPACK_IMPORTED_MODULE_5___default.a.Component);__webpack_exports__.default=DebuggerApp},168:function(e,t,a){e.exports=a(220)},173:function(e){e.exports=JSON.parse('{"name":"zoe-starter-react-app","version":"0.1.0","private":true,"homepage":"https://labs.zoe.im/vanish-miniapp","dependencies":{"@blueprintjs/core":"^3.23.1","@blueprintjs/datetime":"^3.15.2","@chakra-ui/core":"^0.5.2","@emotion/core":"^10.0.27","@emotion/styled":"^10.0.27","emotion-theming":"^10.0.27","mobx":"^5.14.0","mobx-react":"^6.1.4","moment":"^2.24.0","npm-run-all":"^4.1.5","react":"^16.10.2","react-dom":"^16.10.2","react-router-dom":"^5.1.2"},"scripts":{"start":"react-app-rewired start","build":"react-app-rewired build","test":"react-app-rewired test","eject":"react-scripts eject"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@babel/plugin-proposal-decorators":"^7.7.4","customize-cra":"^0.9.1","prop-types":"^15.7.2","react-app-rewired":"^2.1.5","react-scripts":"^3.3.1"}}')},178:function(e,t,a){var n={"./checkin":97,"./checkin.jsx":97,"./debugger":112,"./debugger.jsx":112};function r(e){var t=_(e);return a(t)}function _(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=_,e.exports=r,r.id=178},219:function(e,t,a){},220:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),_=a(28),i=a.n(_),o=a(74),c=a(53),s=a(54);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l,u,p,m,h,d,b,O,E=a(29),f=a(30),j=a(33),k=a(32),v=a(34),C=a(57),D=a(20),g=a(221),y=a(85),P=a(84),M=a(115),w=r.a.createContext({}),R=w.Provider,I=w.Consumer,A=function(e){return function(t){function a(){return Object(E.a)(this,a),Object(j.a)(this,Object(k.a)(a).apply(this,arguments))}return Object(v.a)(a,t),Object(f.a)(a,[{key:"render",value:function(){var t=this;return r.a.createElement(I,null,(function(a){return r.a.createElement(e,Object.assign({globalData:a},t.props))}))}}]),a}(r.a.Component)},U=(r.a.Component,function(e){function t(){var e;Object(E.a)(this,t),e=Object(j.a)(this,Object(k.a)(t).call(this));var n=a(173).homepage;return e.data={basePath:n?new URL(n).pathname:""},e}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement(R,{value:this.data},e)}}]),t}(r.a.Component)),T=Object(C.f)(l=function(e){function t(){var e;return Object(E.a)(this,t),(e=Object(j.a)(this,Object(k.a)(t).call(this))).appCaches={},e}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){var e;try{e=a(178)("./".concat(this.props.name)).default}catch(t){}e&&(this.appCaches[this.props.name]=e),window.document.title=this.props.title}},{key:"render",value:function(){var e=this.appCaches[this.props.name];return e?r.a.createElement(e):r.a.createElement(y.a,null,"\u5e94\u7528\u9519\u8bef: ",this.props.name)}}]),t}(r.a.Component))||l,W=Object(C.f)(u=A(u=function(e){function t(){return Object(E.a)(this,t),Object(j.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"_onClick",value:function(){this.props.history.push("".concat(this.props.globalData.basePath,"/").concat(this.props.name))}},{key:"render",value:function(){var e=this.props,t=e.title,a=(e.name,e.icon),n=void 0===a?"time":a;return r.a.createElement(P.a,{onClick:this._onClick.bind(this),cursor:"pointer",border:"1px",borderRadius:"md",borderColor:"gray.300",w:"100%",h:"20",align:"center",justify:"center",direction:"column"},r.a.createElement(M.a,{name:n}),r.a.createElement(y.a,{my:1},t))}}]),t}(r.a.Component))||u)||u,L=T,B=Object(c.b)("appStore")(p=function(e){function t(){return Object(E.a)(this,t),Object(j.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){window.document.title="Vanish \u5c0f\u7a0b\u5e8f"}},{key:"render",value:function(){return r.a.createElement(D.a,{p:2},r.a.createElement(g.a,{templateColumns:"repeat(3, 1fr)",gap:6},this.props.appStore.apps.map((function(e,t){return r.a.createElement(W,Object.assign({key:t},e))}))))}}]),t}(r.a.Component))||p,K=function(e){function t(){return Object(E.a)(this,t),Object(j.a)(this,Object(k.a)(t).call(this))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"_onClick",value:function(){this.props.appStore.addCount()}},{key:"render",value:function(){return r.a.createElement(P.a,null,"Chakra UI! 404")}}]),t}(r.a.Component),z=(m=Object(c.b)("appStore"),Object(C.f)(h=A(h=m(h=Object(c.c)(h=function(e){function t(){return Object(E.a)(this,t),Object(j.a)(this,Object(k.a)(t).call(this))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.props.appStore.loadApps()}},{key:"render",value:function(){var e=this.props.globalData.basePath;return r.a.createElement(C.c,null,r.a.createElement(C.a,{exact:!0,path:e||"/",children:r.a.createElement(B,null)}),this.props.appStore.apps.map((function(t,a){return r.a.createElement(C.a,{key:a,path:"".concat(e||"","/").concat(t.name),children:r.a.createElement(L,Object.assign({basePath:e},t))})})),r.a.createElement(C.a,{component:K}))}}]),t}(r.a.Component))||h)||h)||h)||h),x=a(68),S=a(95),q=a(69),N=(a(218),a(7)),J=[{name:"checkin",icon:"time",title:"\u6253\u5361\u7b7e\u5230"},{name:"debugger",icon:"view",title:"JS\u8c03\u8bd5"}],V={appStore:new(d=function(){function e(){Object(E.a)(this,e),Object(S.a)(this,"isLoading",b,this),Object(S.a)(this,"appsRegistry",O,this)}return Object(f.a)(e,[{key:"loadApps",value:function(){var e=this;this.isLoading=!0,this.appsRegistry.clear(),J.forEach((function(t){return e.appsRegistry.set(t.name,Object(x.a)({id:t.name,text:t.title},t))})),this.isLoading=!1}},{key:"apps",get:function(){return Array.from(this.appsRegistry.values())}}]),e}(),b=Object(q.a)(d.prototype,"isLoading",[N.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=Object(q.a)(d.prototype,"appsRegistry",[N.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N.n.map()}}),Object(q.a)(d.prototype,"apps",[N.g],Object.getOwnPropertyDescriptor(d.prototype,"apps"),d.prototype),Object(q.a)(d.prototype,"loadApps",[N.f],Object.getOwnPropertyDescriptor(d.prototype,"loadApps"),d.prototype),d)},$=(a(219),a(230)),F=Object(x.a)({},$.a,{colors:Object(x.a)({},$.a.colors,{brand:{900:"#1a365d",800:"#153e75",700:"#2a69ac"}})});i.a.render(r.a.createElement(c.a,V,r.a.createElement(s.a,{theme:F},r.a.createElement(U,null,r.a.createElement(o.a,null,r.a.createElement(z,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},97:function(e,t,a){"use strict";a.r(t);var n=a(29),r=a(30),_=a(33),i=a(32),o=a(34),c=a(0),s=a.n(c),l=a(221),u=a(84),p=a(85),m=a(119),h=a(222),d=a(83),b=a(76),O=(a(185),function(e){function t(){var e;Object(n.a)(this,t),e=Object(_.a)(this,Object(i.a)(t).call(this));var a=new Date;return e.state={date:a,email:null,name:null,location:{idx:"W",address:"\u540c\u987a\u885718\u53f7--\u540c\u82b1\u987a",longitude:120.046353,latitude:30.292516},checkinTime:a.getTime(),checkoutTime:a.getTime()},e}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){if(window.jsVanish)try{var e=window.jsVanish.getVanishUserInfo(),t=e?JSON.parse(e):null;this.setState({name:t.ClientName,email:t.ClientEmail,device_id:window.jsVanish.getDeviceUUID()})}catch(a){}this.loadTodayInfo()}},{key:"checkIn",value:function(e){var t=this.state,a=t.date,n=t.email,r=t.name,_=t.device_id,i=t.location,o=i.longitude,c=i.latitude,s=i.address,l=i.idx;n?C({date:a,email:n,name:r,type:e,longitude:o,latitude:c,device_id:_,clock_addr:s,clock_addr_num:l}).then((function(e){console.log(e)})):alert("\u672a\u83b7\u53d6\u5230\u7528\u6237\u4fe1\u606f")}},{key:"loadTodayInfo",value:function(){var e=this.state,t=e.email;e.name;t?v({email:t,date:this.state.date.toISOString().split("T")[0]}).then((function(e){console.log(e)})):alert("\u672a\u83b7\u53d6\u5230\u7528\u6237\u4fe1\u606f")}},{key:"onDateClick",value:function(e){this.setState({date:e})}},{key:"render",value:function(){return s.a.createElement(l.a,{templateRows:"repeat(3, 1fr)",gap:6},s.a.createElement(u.a,{justify:"center"},s.a.createElement(h.a,{onChange:this.onDateClick.bind(this),localeUtils:b.LocaleUtils,locale:"zh-cn",value:this.state.date})),s.a.createElement(u.a,{justify:"center",align:"center"},s.a.createElement(p.a,null,this.state.location.address)),this.state.email?s.a.createElement(u.a,{justify:"space-between",align:"center"},s.a.createElement(E,{label:"\u4e0a\u73ed",onClick:this.checkIn.bind(this,1)}),s.a.createElement(E,{label:"\u4e0b\u73ed",onClick:this.checkIn.bind(this,2)})):null)}}]),t}(s.a.Component));t.default=O;var E=function(e){var t=e.label,a=(e.disable,e.checkTime),n=e.onClick,r=!!a;return s.a.createElement(u.a,{direction:"column"},r?s.a.createElement(d.a,{value:a,precision:d.b.SECOND}):s.a.createElement(p.a,null,"\u672a\u6253\u5361"),s.a.createElement(m.a,{onClick:n},r?"\u5df2":"\u7acb\u5373","\u6253\u5361",t))},f=function e(t,a){var n,r=[];for(n in t)if(t.hasOwnProperty(n)){var _=a?a+"["+n+"]":n,i=t[n];r.push(null!==i&&"object"===typeof i?e(i,_):encodeURIComponent(_)+"="+encodeURIComponent(i))}return r.join("&")},j=[118,97,110,105,115,104,97,112,112,46,49,48,106,113,107,97,46,99,111,109,46,99,110].map((function(e){return String.fromCharCode(e)})).join(""),k=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST";return fetch("//".concat(j,"/check/backend/index/").concat(e),{method:a,headers:{"Content-Type":"application/x-www-form-urlencoded"},body:f(t)}).then((function(e){return e.json()})).then((function(e){e.status;return e.payload}))},v=function(e){var t=e.email,a=e.date;return k("query",{email:t,date:a})},C=function(e){return k("clock",e)}}},[[168,1,2]]]);
//# sourceMappingURL=main.6ff18430.chunk.js.map